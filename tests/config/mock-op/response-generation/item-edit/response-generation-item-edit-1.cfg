[MAIN]
config-path = ./tests/config/mock-op/responses-item-edit
response-path = responses-1
input-path = input
response-dir-file = response-directory-1.json
state-config = ./tests/config/mock-op/responses-item-edit/mock-op-state-config-1.json
# Be sure to set RESP_GEN_DOT_ENV_FILE=path/to/.env_corrupt_svc_account
# to have response-generator load the service account token
existing-auth = required

[cli-version]
type = cli-version
enabled = false

[list-signed-in-accounts]
type = account-list
enabled = false

[whoami]
type = whoami
enabled = false

[item-get-example-login-00]
# OP.item_edit_set_password() peforms an item_get() first
# so we need to support a get operation on the unedited item
type=item-get
item_identifier = Example Login Item 00
vault = Test Data 2
enabled = false

[item-edit-example-login-00-set-password]
type=item-edit
subtype=set-password
item_identifier = Example Login Item 00
field_label = password
password = new password
vault = Test Data 2
changes_state = true
enabled = false

[item-get-example-login-01]
# OP.item_edit_generate_password() does not require this
# but our test cases to explicitly perform an item_get() on the
# unmodified item, so we need this
type=item-get
item_identifier = Example Login Item 01
vault = Test Data 2
enabled = false

[item-edit-example-login-01-generate-password]
type=item-edit
subtype=generate-password
item_identifier = Example Login Item 01
password-recipe = 20,letters,digits
vault = Test Data 2
changes_state = true
enabled = false

[item-get-example-login-02]
# OP.item_edit_set_title() does not require this
# but our test cases to explicitly perform an item_get() on the
# unmodified item, so we need this
type=item-get
item_identifier = Example Login Item 02
vault = Test Data 2
enabled = false

[item-edit-example-login-02-set-title]
type=item-edit
subtype=set-title
item_identifier = Example Login Item 02
item-title = Example Login Item 02 (New Title)
vault = Test Data 2
changes_state = true
enabled = false

[item-get-example-login-03]
# OP.item_edit_set_password() peforms an item_get() first
# so we need to support a get operation on the unedited item
type=item-get
item_identifier = Example Login Item 03
vault = Test Data 2
enabled = false

[item-edit-example-login-03-set-password]
type=item-edit
subtype=set-password
item_identifier = Example Login Item 03
section_label = Example Section
field_label = password in a section
password = new password in a section
vault = Test Data 2
changes_state = true
enabled = false

[item-get-example-login-04]
# OP.item_edit_set_title() does not require this
# but our test cases to explicitly perform an item_get() on the
# unmodified item, so we need this
type=item-get
item_identifier = Example Login Item 04
vault = Test Data 2

[item-edit-example-login-04-set-favorite]
type=item-edit
subtype=set-favorite
item_identifier = Example Login Item 04
item-favorite = true
vault = Test Data 2
changes_state = true
enabled = true
