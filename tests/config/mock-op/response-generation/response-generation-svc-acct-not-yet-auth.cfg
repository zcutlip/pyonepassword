[MAIN]
config-path = ./tests/config/mock-op
response-path = responses-svc-acct-not-yet-auth
response-dir-file = svc-acct-not-yet-auth-directory.json
# Be sure to set RESP_GEN_DOT_ENV_FILE=path/to/.env
# to have response-generator load the service account token
existing-auth = required
skip-global-signin = True

[cli-version]
type = cli-version
create-instance = False

[list-signed-in-accounts]
type = account-list
create-instance = False

[whoami-not-yet-auth]
# this should fail with the message:
# service account token set, but not authenticated yet
type = whoami
expected-return = 1
create-instance = False


[item-template-list]
# this should succeed and cause the next 'op whoami' to succeed
type=item-template-list
create-instance = False

[whoami-authenticated]
# this should now succeed after the above 'item template list' operation
type = whoami
create-instance = False
